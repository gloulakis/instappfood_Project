{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/Users/georgiosloulakis/Documents/instappfood_Project/components/auth/Login.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { Component } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport firebase from 'firebase';\nimport { Input } from 'react-native-elements';\nimport { Logo } from \"../main/Logo\";\n\nfunction onFacebookButtonPress() {\n  var result, data, facebookCredential;\n  return _regeneratorRuntime.async(function onFacebookButtonPress$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return _regeneratorRuntime.awrap(LoginManager.logInWithPermissions(['public_profile', 'email']));\n\n        case 2:\n          result = _context.sent;\n\n          if (!result.isCancelled) {\n            _context.next = 5;\n            break;\n          }\n\n          throw 'User cancelled the login process';\n\n        case 5:\n          _context.next = 7;\n          return _regeneratorRuntime.awrap(AccessToken.getCurrentAccessToken());\n\n        case 7:\n          data = _context.sent;\n\n          if (data) {\n            _context.next = 10;\n            break;\n          }\n\n          throw 'Something went wrong obtaining access token';\n\n        case 10:\n          facebookCredential = auth.FacebookAuthProvider.credential(data.accessToken);\n          return _context.abrupt(\"return\", auth().signInWithCredential(facebookCredential));\n\n        case 12:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n}\n\nexport var Login = function (_Component) {\n  _inherits(Login, _Component);\n\n  var _super = _createSuper(Login);\n\n  function Login(props) {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _super.call(this, props);\n\n    _this.onSignIn = function _callee() {\n      var _this$state, email, password;\n\n      return _regeneratorRuntime.async(function _callee$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _this$state = _this.state, email = _this$state.email, password = _this$state.password;\n              _context2.next = 3;\n              return _regeneratorRuntime.awrap(firebase.auth().signInWithEmailAndPassword(email, password).then(function (result) {\n                console.log(result);\n              }).catch(function (error) {\n                console.log(error);\n              }));\n\n            case 3:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.state = {\n      email: '',\n      password: ''\n    };\n    _this.onSignIn = _this.onSignIn.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(View, {\n        style: {\n          flex: 1,\n          width: '100%',\n          height: '100%',\n          alignItems: 'center',\n          backgroundColor: 'black'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 13\n        }\n      }, React.createElement(ImageBackground, {\n        source: require(\"../Images/bakc2.jpg\"),\n        resizeMode: \"cover\",\n        style: {\n          justifyContent: 'center',\n          width: '100%',\n          height: '100%'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 17\n        }\n      }, React.createElement(KeyboardAvoidingView, {\n        style: {\n          backgroundColor: 'white',\n          shadowColor: 'black',\n          shadowOpacity: '.1',\n          alignItems: 'center',\n          borderRadius: '40%',\n          padding: 20,\n          width: '96%',\n          marginLeft: '2%',\n          marginRight: '1%'\n        },\n        behavior: \"padding\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }\n      }, React.createElement(Logo, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 29\n        }\n      }), React.createElement(View, {\n        style: {\n          width: '100%',\n          alignItems: 'center',\n          alignContent: 'center',\n          padding: '5%',\n          borderRadius: '100%'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 29\n        }\n      }, React.createElement(View, {\n        style: {\n          width: '90%',\n          shadowOpacity: '0.1',\n          shadowColor: '#088F8F'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 33\n        }\n      }, React.createElement(Input, {\n        placeholder: \" E-mail\",\n        placeholderTextColor: \"#088F8F\",\n        color: \"black\",\n        opacity: \".5\",\n        padding: \"1%\",\n        marginTop: \"12%\",\n        onChangeText: function onChangeText(email) {\n          return _this2.setState({\n            email: email\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 37\n        }\n      }), React.createElement(Input, {\n        placeholder: \" Password\",\n        placeholderTextColor: \"#088F8F\",\n        color: \"black\",\n        opacity: \".5\",\n        padding: \"1%\",\n        marginTop: \"12%\",\n        secureTextEntry: true,\n        onChangeText: function onChangeText(password) {\n          return _this2.setState({\n            password: password\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 37\n        }\n      }))), React.createElement(View, {\n        style: {\n          marginTop: '10%',\n          backgroundColor: 'rgba(0, 181, 204, 1)',\n          shadowColor: 'pink',\n          shadowOpacity: .3,\n          borderTopLeftRadius: '0',\n          borderTopRightRadius: '30',\n          borderBottomLeftRadius: '30',\n          borderBottomRightRadius: '30',\n          padding: 6,\n          marginBottom: 5\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 25\n        }\n      }, React.createElement(Button, {\n        color: \"white\",\n        onPress: function onPress() {\n          return _this2.onSignIn();\n        },\n        title: \"Sign In\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 29\n        }\n      })), React.createElement(Button, {\n        title: \"Facebook Sign-In\",\n        onPress: function onPress() {\n          return onFacebookButtonPress().then(function () {\n            return console.log('Signed in with Facebook!');\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 25\n        }\n      }))));\n    }\n  }]);\n\n  return Login;\n}(Component);\nexport default Login;","map":{"version":3,"sources":["/Users/georgiosloulakis/Documents/instappfood_Project/components/auth/Login.js"],"names":["React","Component","firebase","Input","Logo","onFacebookButtonPress","LoginManager","logInWithPermissions","result","isCancelled","AccessToken","getCurrentAccessToken","data","facebookCredential","auth","FacebookAuthProvider","credential","accessToken","signInWithCredential","Login","props","onSignIn","state","email","password","signInWithEmailAndPassword","then","console","log","catch","error","bind","flex","width","height","alignItems","backgroundColor","require","justifyContent","shadowColor","shadowOpacity","borderRadius","padding","marginLeft","marginRight","alignContent","setState","marginTop","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","marginBottom"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport {View,Button,ImageBackground,KeyboardAvoidingView} from 'react-native'\nimport firebase from 'firebase';\nimport { Input } from 'react-native-elements';\nimport {Logo} from '../main/Logo'\n\nasync function onFacebookButtonPress() {\n    // Attempt login with permissions\n    const result = await LoginManager.logInWithPermissions(['public_profile', 'email']);\n  \n    if (result.isCancelled) {\n      throw 'User cancelled the login process';\n    }\n  \n    // Once signed in, get the users AccesToken\n    const data = await AccessToken.getCurrentAccessToken();\n  \n    if (!data) {\n      throw 'Something went wrong obtaining access token';\n    }\n  \n    // Create a Firebase credential with the AccessToken\n    const facebookCredential = auth.FacebookAuthProvider.credential(data.accessToken);\n  \n    // Sign-in the user with the credential\n    return auth().signInWithCredential(facebookCredential);\n  }\n\nexport class Login extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            email: '',\n            password: '',\n        }\n\n        this.onSignIn = this.onSignIn.bind(this)\n    }\n    onSignIn =async ()=> {\n        const { email, password } = this.state;\n        await firebase.auth().signInWithEmailAndPassword(email, password)\n            .then( (result) => {\n                console.log(result)\n            })\n            .catch((error) => {\n                console.log(error)\n            })\n    }\n\n    render() {\n        return (\n            <View style={{ flex: 1,width:'100%',height:'100%', alignItems: 'center',backgroundColor:'black' }}>\n                <ImageBackground source={require('../Images/bakc2.jpg')} resizeMode='cover' \n                    style={{justifyContent:'center',width:'100%',height:'100%'}}>\n                    <KeyboardAvoidingView \n                        style={{\n                                backgroundColor:'white', \n                                shadowColor:'black',\n                                shadowOpacity:'.1',\n                                alignItems:'center',\n                                borderRadius:'40%',\n                                padding:20,\n                                width:'96%',\n                                marginLeft:'2%',\n                                marginRight:'1%'\n                            }}\n                            behavior='padding'>\n                            <Logo/>\n                            <View style={{\n                                width:'100%',\n                                alignItems:'center',\n                                alignContent:'center',\n                                padding:'5%',\n                                borderRadius:'100%'}}>\n                          \n                                <View style={{\n                                    width: '90%',\n                                    shadowOpacity:'0.1',\n                                    shadowColor:'#088F8F'\n                                                }}>\n                                    <Input\n                                        placeholder=\" E-mail\"\n                                        placeholderTextColor ='#088F8F'\n                                        color='black'\n                                        opacity ='.5'\n                                        padding='1%'\n                                        marginTop='12%'\n                                        onChangeText={(email) => this.setState({ email })}\n                                    />\n                                    <Input\n                                        placeholder=\" Password\"\n                                        placeholderTextColor ='#088F8F'\n                                        color='black'\n                                        opacity ='.5'\n                                        padding='1%'\n                                        marginTop='12%'\n                                        secureTextEntry={true}\n                                        onChangeText={(password) => this.setState({ password })}\n                                    />\n                                </View>\n                            </View>\n                          \n                        <View style={{\n                            marginTop: '10%',\n                            backgroundColor:'rgba(0, 181, 204, 1)',\n                            shadowColor:'pink',\n                            shadowOpacity:.3,\n                            borderTopLeftRadius:'0',\n                            borderTopRightRadius:'30',\n                            borderBottomLeftRadius:'30',\n                            borderBottomRightRadius:'30',\n                            padding:6,\n                            marginBottom:5\n                             }}>\n                            <Button\n                                color = 'white'\n                                onPress={() => this.onSignIn()}\n                                title=\"Sign In\"\n                            />\n                        </View>\n                        <Button\n        title=\"Facebook Sign-In\"\n        onPress={() => onFacebookButtonPress().then(() => console.log('Signed in with Facebook!'))}\n      />\n                    </KeyboardAvoidingView>  \n                </ImageBackground>\n            </View>\n        )\n    }\n}\n\n\n\nexport default Login"]},"metadata":{},"sourceType":"module"}