{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/georgiosloulakis/Documents/instappfood_Project/components/main/Feed.js\";\nimport React, { useState, useEffect } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TouchableHighlight from \"react-native-web/dist/exports/TouchableHighlight\";\nimport { Icon } from 'react-native-elements';\nimport firebase from 'firebase';\n\nrequire('firebase/firestore');\n\nimport { connect } from 'react-redux';\nimport { BlackLogo } from \"../main/BlackLogo\";\n\nfunction Feed(props) {\n  var _this = this;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      posts = _useState2[0],\n      setPosts = _useState2[1];\n\n  useEffect(function () {\n    if (props.usersFollowingLoaded == props.following.length && props.following.length !== 0) {\n      props.feed.sort(function (x, y) {\n        return x.creation - y.creation;\n      });\n      setPosts(props.feed);\n    }\n  }, [props.usersFollowingLoaded, props.feed]);\n\n  var onLikePress = function onLikePress(userId, postId) {\n    firebase.firestore().collection(\"posts\").doc(userId).collection(\"userPosts\").doc(postId).collection(\"likes\").doc(firebase.auth().currentUser.uid).set({});\n  };\n\n  var onDislikePress = function onDislikePress(userId, postId) {\n    firebase.firestore().collection(\"posts\").doc(userId).collection(\"userPosts\").doc(postId).collection(\"likes\").doc(firebase.auth().currentUser.uid).delete();\n  };\n\n  return React.createElement(View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, React.createElement(BlackLogo, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 17\n    }\n  }), React.createElement(FlatList, {\n    numColumns: 1,\n    horizontal: false,\n    data: posts,\n    borderRadius: 10,\n    extraData: posts,\n    renderItem: function renderItem(_ref) {\n      var item = _ref.item;\n      return React.createElement(View, {\n        style: styles.Card,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 25\n        }\n      }, React.createElement(TouchableHighlight, {\n        onPress: function onPress() {\n          return props.navigation.navigate('ShowInfo', {\n            postId: item.id,\n            uid: item.user.uid\n          });\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 29\n        }\n      }, React.createElement(Image, {\n        style: styles.image,\n        source: {\n          uri: item.downloadURL\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 45\n        }\n      })), React.createElement(View, {\n        style: styles.header,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 29\n        }\n      }, React.createElement(Text, {\n        style: styles.headerText,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 33\n        }\n      }, item.title)), React.createElement(View, {\n        style: styles.header2,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 29\n        }\n      }, React.createElement(Text, {\n        style: styles.headerText2,\n        onPress: function onPress() {\n          return props.navigation.navigate(\"Profile\", {\n            uid: item.user.uid\n          });\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 33\n        }\n      }, \"Posted by \", item.user.name, \" \")), React.createElement(View, {\n        style: styles.HartContainer,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 29\n        }\n      }, React.createElement(View, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 33\n        }\n      }, item.currentUserLike ? React.createElement(TouchableHighlight, {\n        onPress: function onPress() {\n          return onDislikePress(item.user.uid, item.id);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 45\n        }\n      }, React.createElement(View, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 49\n        }\n      }, React.createElement(Image, {\n        source: require(\"../Images/like.gif\"),\n        style: {\n          width: 50,\n          height: 50,\n          borderTopLeftRadius: 20,\n          borderBottomRightRadius: 20,\n          alignContent: 'center',\n          alignItems: 'center'\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 49\n        }\n      }))) : React.createElement(TouchableHighlight, {\n        onPress: function onPress() {\n          return onLikePress(item.user.uid, item.id);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 45\n        }\n      }, React.createElement(View, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 49\n        }\n      }, React.createElement(Image, {\n        source: require(\"../Images/dislike2.png\"),\n        style: {\n          width: 50,\n          height: 50,\n          borderTopRightRadius: 20,\n          borderBottomLeftRadius: 20,\n          alignContent: 'center',\n          alignItems: 'center',\n          resizeMode: 'contain',\n          backgroundColor: 'white'\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 49\n        }\n      }))))), React.createElement(View, {\n        style: styles.CommentContainer,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 29\n        }\n      }, React.createElement(TouchableHighlight, {\n        onPress: function onPress() {\n          return props.navigation.navigate('Comment', {\n            postId: item.id,\n            uid: item.user.uid\n          });\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 33\n        }\n      }, React.createElement(View, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 45\n        }\n      }, React.createElement(Image, {\n        source: require(\"../Images/comment2.gif\"),\n        style: {\n          width: 50,\n          height: 50,\n          borderTopLeftRadius: 20,\n          borderBottomRightRadius: 20,\n          borderBottomLeftRadius: 20,\n          alignContent: 'center',\n          alignItems: 'center'\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 45\n        }\n      })))));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 17\n    }\n  }));\n}\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    marginTop: 20,\n    paddingTop: 15\n  },\n  image: {\n    width: null,\n    height: 300\n  },\n  header: {\n    width: '100%',\n    height: 35,\n    flexDirection: 'row',\n    position: 'relative',\n    shadowRadius: 20,\n    backgroundColor: '#4682b4'\n  },\n  headerText: {\n    fontSize: 13,\n    flex: 2,\n    flexShrink: 1,\n    flexWrap: 'wrap',\n    color: 'white',\n    shadowColor: '#4682b4',\n    shadowOpacity: 0.2,\n    margin: 3,\n    fontFamily: 'AvenirNext-Bold',\n    fontWeight: 'bold'\n  },\n  header2: {\n    width: '100%',\n    height: 30,\n    position: 'relative',\n    alignItems: 'flex-end',\n    backgroundColor: '#b0c4de',\n    borderBottomLeftRadius: 10,\n    borderBottomRightRadius: 10\n  },\n  headerText2: {\n    fontSize: 12,\n    color: '#191970',\n    shadowColor: 'white',\n    shadowOpacity: 0.1,\n    padding: 5,\n    fontFamily: 'Noteworthy',\n    fontWeight: 'bold'\n  },\n  HartContainer: {\n    position: 'absolute',\n    top: '75%',\n    shadowColor: '#b0c4de',\n    shadowOpacity: 100,\n    shadowRadius: 60,\n    paddingLeft: '87%'\n  },\n  CommentContainer: {\n    flexDirection: \"row\",\n    position: 'absolute',\n    top: '10%',\n    paddingLeft: '87%',\n    shadowOpacity: 20,\n    shadowRadius: 4\n  },\n  Card: {\n    paddingTop: 30\n  }\n});\n\nvar mapStateToProps = function mapStateToProps(store) {\n  return {\n    currentUser: store.userState.currentUser,\n    following: store.userState.following,\n    feed: store.usersState.feed,\n    usersFollowingLoaded: store.usersState.usersFollowingLoaded\n  };\n};\n\nexport default connect(mapStateToProps, null)(Feed);","map":{"version":3,"sources":["/Users/georgiosloulakis/Documents/instappfood_Project/components/main/Feed.js"],"names":["React","useState","useEffect","Icon","firebase","require","connect","BlackLogo","Feed","props","posts","setPosts","usersFollowingLoaded","following","length","feed","sort","x","y","creation","onLikePress","userId","postId","firestore","collection","doc","auth","currentUser","uid","set","onDislikePress","delete","styles","container","item","Card","navigation","navigate","id","user","image","uri","downloadURL","header","headerText","title","header2","headerText2","name","HartContainer","currentUserLike","width","height","borderTopLeftRadius","borderBottomRightRadius","alignContent","alignItems","borderTopRightRadius","borderBottomLeftRadius","resizeMode","backgroundColor","CommentContainer","StyleSheet","create","flex","marginTop","paddingTop","flexDirection","position","shadowRadius","fontSize","flexShrink","flexWrap","color","shadowColor","shadowOpacity","margin","fontFamily","fontWeight","padding","top","paddingLeft","mapStateToProps","store","userState","usersState"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { StyleSheet,View, Text, Image, FlatList,TouchableHighlight } from 'react-native'\nimport { Icon } from 'react-native-elements'\nimport firebase from 'firebase'\nrequire('firebase/firestore')\nimport { connect } from 'react-redux'\nimport {BlackLogo} from '../main/BlackLogo'\n\nfunction Feed(props) {\n    const [posts, setPosts] = useState([]);\n\n    useEffect(() => {\n        if (props.usersFollowingLoaded == props.following.length && props.following.length !== 0) {\n            props.feed.sort(function (x, y) {\n                return x.creation - y.creation;\n            })\n            setPosts(props.feed);\n        }\n    }, [props.usersFollowingLoaded, props.feed])\n\n    const onLikePress = (userId, postId) => {\n        firebase.firestore()\n            .collection(\"posts\")\n            .doc(userId)\n            .collection(\"userPosts\")\n            .doc(postId)\n            .collection(\"likes\")\n            .doc(firebase.auth().currentUser.uid)\n            .set({})\n    }\n    const onDislikePress = (userId, postId) => {\n        firebase.firestore()\n            .collection(\"posts\")\n            .doc(userId)\n            .collection(\"userPosts\")\n            .doc(postId)\n            .collection(\"likes\")\n            .doc(firebase.auth().currentUser.uid)\n            .delete()\n    }\n\n \n\n    return (\n        <View style={styles.container}>\n                <BlackLogo/>\n                <FlatList\n                    numColumns={1}\n                    horizontal={false}\n                    data={posts}\n                    borderRadius = {10}\n                    extraData={posts}\n                    renderItem={({ item }) => (\n                        <View style={styles.Card}>\n                            <TouchableHighlight onPress={() => props.navigation.navigate('ShowInfo', { postId: item.id, uid: item.user.uid })}>\n                                            <Image\n                                                style={styles.image}\n                                                source={{ uri: item.downloadURL }}\n                                            />\n                            </TouchableHighlight>\n                            <View style={styles.header}>\n                                <Text style={styles.headerText}>{item.title}</Text>\n                            </View>\n                            <View style={styles.header2}>\n                                <Text style={styles.headerText2} onPress={() => props.navigation.navigate(\"Profile\", {uid: item.user.uid})}>\n                                     Posted by {item.user.name} </Text>\n                            </View>\n                            <View style={styles.HartContainer}>\n                                <View>\n                                    { item.currentUserLike ?\n                                        (\n                                            <TouchableHighlight onPress={()=>onDislikePress(item.user.uid, item.id)}>\n                                                <View>\n                                                <Image \n                                                    source={require('../Images/like.gif')}  \n                                                    style={{\n                                                        width:50, \n                                                        height:50,\n                                                        borderTopLeftRadius:20,\n                                                        borderBottomRightRadius:20,\n                                                        alignContent:'center',\n                                                        alignItems:'center',\n                                                    }}\n                                                />\n                                                </View>\n                                            </TouchableHighlight>\n                                        )\n                                        :\n                                        (\n                                            <TouchableHighlight onPress={()=>onLikePress(item.user.uid, item.id)}>\n                                                <View>\n                                                <Image \n                                                    source={require('../Images/dislike2.png')}  \n                                                    style={{\n                                                        width:50, \n                                                        height:50,\n                                                        borderTopRightRadius:20,\n                                                        borderBottomLeftRadius:20,\n                                                        alignContent:'center',\n                                                        alignItems:'center',\n                                                        resizeMode:'contain',\n                                                        backgroundColor:'white'\n                                                    }}\n                                                />\n                                               \n                                                </View>\n                                            </TouchableHighlight>\n                                        )\n                                    } \n                                </View>\n                            </View>\n                            <View style={styles.CommentContainer}>\n                                <TouchableHighlight onPress={() => props.navigation.navigate('Comment', { postId: item.id, uid: item.user.uid })}>\n                                            <View>\n                                            <Image \n                                                    source={require('../Images/comment2.gif')}  \n                                                    style={{\n                                                        width:50, \n                                                        height:50,\n                                                        borderTopLeftRadius:20,\n                                                        borderBottomRightRadius:20,\n                                                        borderBottomLeftRadius:20,\n                                                        alignContent:'center',\n                                                        alignItems:'center',\n                                                    }}\n                                                />\n                                            </View>\n                                </TouchableHighlight>\n                            </View>\n                        </View>\n                    )}\n                />\n            </View>\n    \n    )\n}\n\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n        marginTop:20,\n        paddingTop:15\n      },\n      image:{\n        width:null,\n        height:300\n    },\n    header:{\n        width: '100%',\n        height:35,\n        flexDirection:'row',\n        position:'relative',\n        shadowRadius:20,\n        backgroundColor: '#4682b4',\n      },\n      headerText:{\n        fontSize:13,\n        flex: 2, \n        flexShrink:1,\n        flexWrap: 'wrap',\n        color:'white',\n        shadowColor:'#4682b4',\n        shadowOpacity:0.2,\n        margin:3,\n        fontFamily:'AvenirNext-Bold',\n        fontWeight:'bold'\n    },\n    header2:{\n        width: '100%',\n        height:30,\n        position:'relative',\n        alignItems:'flex-end',\n        backgroundColor: '#b0c4de',\n        borderBottomLeftRadius:10,\n        borderBottomRightRadius:10,\n      },\n    headerText2:{\n        fontSize:12,\n        color:'#191970',\n        shadowColor:'white',\n        shadowOpacity:0.1,\n        padding:5,\n        fontFamily:'Noteworthy',\n        fontWeight:'bold'\n    },\n    HartContainer:{\n        position:'absolute',\n        top:'75%',\n        shadowColor:'#b0c4de',\n        shadowOpacity:100,\n        shadowRadius:60,\n        paddingLeft:'87%',\n    },\n    CommentContainer:{\n        flexDirection: \"row\",\n        position:'absolute',\n        top:'10%',\n        paddingLeft:'87%',\n        shadowOpacity:20,\n        shadowRadius:4,\n    },\n    Card:{\n        paddingTop:30,\n    }\n})\nconst mapStateToProps = (store) => ({\n    currentUser: store.userState.currentUser,\n    following: store.userState.following,\n    feed: store.usersState.feed,\n    usersFollowingLoaded: store.usersState.usersFollowingLoaded,\n\n\n})\nexport default connect(mapStateToProps, null)(Feed);"]},"metadata":{},"sourceType":"module"}